"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
var __importStar = (this && this.__importStar) || function (mod) {
    if (mod && mod.__esModule) return mod;
    var result = {};
    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];
    result["default"] = mod;
    return result;
};
exports.__esModule = true;
var uniqueId_1 = __importDefault(require("lodash/uniqueId"));
var constants = __importStar(require("../constants"));
function format(string, args) {
    string = args
        .reduce(function (string, arg, i) { return string.replace('{' + i + '}', arg); }, string);
    return string;
}
function notify(type, args) {
    var string = args[0] || '';
    var message = format(string, Array.prototype.slice.call(args, 1));
    var id = uniqueId_1["default"]('notification');
    var payload = { id: id, type: type, message: message };
    return addNotification(payload);
}
exports.info = function () {
    var args = [];
    for (var _i = 0; _i < arguments.length; _i++) {
        args[_i] = arguments[_i];
    }
    return notify('info', args);
};
exports.warning = function () {
    var args = [];
    for (var _i = 0; _i < arguments.length; _i++) {
        args[_i] = arguments[_i];
    }
    return notify('warning', args);
};
exports.error = function () {
    var args = [];
    for (var _i = 0; _i < arguments.length; _i++) {
        args[_i] = arguments[_i];
    }
    return notify('error', args);
};
function addNotification(payload) {
    return {
        type: constants.NOTIFY,
        payload: payload
    };
}
function dismissNotification(id) {
    return {
        type: constants.NOTIFY_DISMISS,
        payload: { id: id }
    };
}
exports.dismissNotification = dismissNotification;
exports.clear = function () { return ({
    type: constants.NOTIFY_CLEAR
}); };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiTm90aWZ5QWN0aW9ucy5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9jbGllbnQvYWN0aW9ucy9Ob3RpZnlBY3Rpb25zLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7OztBQUFBLDZEQUFzQztBQUN0QyxzREFBeUM7QUFFekMsU0FBUyxNQUFNLENBQUUsTUFBYyxFQUFFLElBQWM7SUFDN0MsTUFBTSxHQUFHLElBQUk7U0FDWixNQUFNLENBQUMsVUFBQyxNQUFNLEVBQUUsR0FBRyxFQUFFLENBQUMsSUFBSyxPQUFBLE1BQU0sQ0FBQyxPQUFPLENBQUMsR0FBRyxHQUFHLENBQUMsR0FBRyxHQUFHLEVBQUUsR0FBRyxDQUFDLEVBQWxDLENBQWtDLEVBQUUsTUFBTSxDQUFDLENBQUE7SUFDdkUsT0FBTyxNQUFNLENBQUE7QUFDZixDQUFDO0FBSUQsU0FBUyxNQUFNLENBQUMsSUFBZ0IsRUFBRSxJQUFjO0lBQzlDLElBQU0sTUFBTSxHQUFHLElBQUksQ0FBQyxDQUFDLENBQUMsSUFBSSxFQUFFLENBQUE7SUFDNUIsSUFBTSxPQUFPLEdBQUcsTUFBTSxDQUFDLE1BQU0sRUFBRSxLQUFLLENBQUMsU0FBUyxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsSUFBSSxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUE7SUFDbkUsSUFBTSxFQUFFLEdBQUcscUJBQVEsQ0FBQyxjQUFjLENBQUMsQ0FBQTtJQUNuQyxJQUFNLE9BQU8sR0FBaUIsRUFBRSxFQUFFLElBQUEsRUFBRSxJQUFJLE1BQUEsRUFBRSxPQUFPLFNBQUEsRUFBRSxDQUFBO0lBRW5ELE9BQU8sZUFBZSxDQUFDLE9BQU8sQ0FBQyxDQUFBO0FBQ2pDLENBQUM7QUFFWSxRQUFBLElBQUksR0FBRztJQUFDLGNBQWM7U0FBZCxVQUFjLEVBQWQscUJBQWMsRUFBZCxJQUFjO1FBQWQseUJBQWM7O0lBQ2pDLE9BQU8sTUFBTSxDQUFDLE1BQU0sRUFBRSxJQUFJLENBQUMsQ0FBQTtBQUM3QixDQUFDLENBQUE7QUFFWSxRQUFBLE9BQU8sR0FBRztJQUFDLGNBQWM7U0FBZCxVQUFjLEVBQWQscUJBQWMsRUFBZCxJQUFjO1FBQWQseUJBQWM7O0lBQ3BDLE9BQU8sTUFBTSxDQUFDLFNBQVMsRUFBRSxJQUFJLENBQUMsQ0FBQTtBQUNoQyxDQUFDLENBQUE7QUFFWSxRQUFBLEtBQUssR0FBRztJQUFDLGNBQWM7U0FBZCxVQUFjLEVBQWQscUJBQWMsRUFBZCxJQUFjO1FBQWQseUJBQWM7O0lBQ2xDLE9BQU8sTUFBTSxDQUFDLE9BQU8sRUFBRSxJQUFJLENBQUMsQ0FBQTtBQUM5QixDQUFDLENBQUE7QUFFRCxTQUFTLGVBQWUsQ0FBQyxPQUFxQjtJQUM1QyxPQUFPO1FBQ0wsSUFBSSxFQUFFLFNBQVMsQ0FBQyxNQUFNO1FBQ3RCLE9BQU8sU0FBQTtLQUNSLENBQUE7QUFDSCxDQUFDO0FBRUQsU0FBZ0IsbUJBQW1CLENBQUMsRUFBVTtJQUM1QyxPQUFPO1FBQ0wsSUFBSSxFQUFFLFNBQVMsQ0FBQyxjQUFjO1FBQzlCLE9BQU8sRUFBRSxFQUFFLEVBQUUsSUFBQSxFQUFFO0tBQ2hCLENBQUE7QUFDSCxDQUFDO0FBTEQsa0RBS0M7QUFzQlksUUFBQSxLQUFLLEdBQUcsY0FBK0IsT0FBQSxDQUFDO0lBQ25ELElBQUksRUFBRSxTQUFTLENBQUMsWUFBWTtDQUM3QixDQUFDLEVBRmtELENBRWxELENBQUEiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgdW5pcXVlSWQgZnJvbSAnbG9kYXNoL3VuaXF1ZUlkJ1xuaW1wb3J0ICogYXMgY29uc3RhbnRzIGZyb20gJy4uL2NvbnN0YW50cydcblxuZnVuY3Rpb24gZm9ybWF0IChzdHJpbmc6IHN0cmluZywgYXJnczogc3RyaW5nW10pIHtcbiAgc3RyaW5nID0gYXJnc1xuICAucmVkdWNlKChzdHJpbmcsIGFyZywgaSkgPT4gc3RyaW5nLnJlcGxhY2UoJ3snICsgaSArICd9JywgYXJnKSwgc3RyaW5nKVxuICByZXR1cm4gc3RyaW5nXG59XG5cbmV4cG9ydCB0eXBlIE5vdGlmeVR5cGUgPSAnaW5mbycgfCAnd2FybmluZycgfCAnZXJyb3InXG5cbmZ1bmN0aW9uIG5vdGlmeSh0eXBlOiBOb3RpZnlUeXBlLCBhcmdzOiBzdHJpbmdbXSkge1xuICBjb25zdCBzdHJpbmcgPSBhcmdzWzBdIHx8ICcnXG4gIGNvbnN0IG1lc3NhZ2UgPSBmb3JtYXQoc3RyaW5nLCBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmdzLCAxKSlcbiAgY29uc3QgaWQgPSB1bmlxdWVJZCgnbm90aWZpY2F0aW9uJylcbiAgY29uc3QgcGF5bG9hZDogTm90aWZpY2F0aW9uID0geyBpZCwgdHlwZSwgbWVzc2FnZSB9XG5cbiAgcmV0dXJuIGFkZE5vdGlmaWNhdGlvbihwYXlsb2FkKVxufVxuXG5leHBvcnQgY29uc3QgaW5mbyA9ICguLi5hcmdzOiBhbnlbXSk6IE5vdGlmaWNhdGlvbkFkZEFjdGlvbiA9PiB7XG4gIHJldHVybiBub3RpZnkoJ2luZm8nLCBhcmdzKVxufVxuXG5leHBvcnQgY29uc3Qgd2FybmluZyA9ICguLi5hcmdzOiBhbnlbXSk6IE5vdGlmaWNhdGlvbkFkZEFjdGlvbiA9PiB7XG4gIHJldHVybiBub3RpZnkoJ3dhcm5pbmcnLCBhcmdzKVxufVxuXG5leHBvcnQgY29uc3QgZXJyb3IgPSAoLi4uYXJnczogYW55W10pOiBOb3RpZmljYXRpb25BZGRBY3Rpb24gPT4ge1xuICByZXR1cm4gbm90aWZ5KCdlcnJvcicsIGFyZ3MpXG59XG5cbmZ1bmN0aW9uIGFkZE5vdGlmaWNhdGlvbihwYXlsb2FkOiBOb3RpZmljYXRpb24pOiBOb3RpZmljYXRpb25BZGRBY3Rpb24ge1xuICByZXR1cm4ge1xuICAgIHR5cGU6IGNvbnN0YW50cy5OT1RJRlksXG4gICAgcGF5bG9hZCxcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZGlzbWlzc05vdGlmaWNhdGlvbihpZDogc3RyaW5nKTogTm90aWZpY2F0aW9uRGlzbWlzc0FjdGlvbiB7XG4gIHJldHVybiB7XG4gICAgdHlwZTogY29uc3RhbnRzLk5PVElGWV9ESVNNSVNTLFxuICAgIHBheWxvYWQ6IHsgaWQgfSxcbiAgfVxufVxuXG5leHBvcnQgaW50ZXJmYWNlIE5vdGlmaWNhdGlvbiB7XG4gIGlkOiBzdHJpbmdcbiAgdHlwZTogTm90aWZ5VHlwZVxuICBtZXNzYWdlOiBzdHJpbmdcbn1cblxuZXhwb3J0IGludGVyZmFjZSBOb3RpZmljYXRpb25BZGRBY3Rpb24ge1xuICB0eXBlOiAnTk9USUZZJ1xuICBwYXlsb2FkOiBOb3RpZmljYXRpb25cbn1cblxuZXhwb3J0IGludGVyZmFjZSBOb3RpZmljYXRpb25EaXNtaXNzQWN0aW9uIHtcbiAgdHlwZTogJ05PVElGWV9ESVNNSVNTJ1xuICBwYXlsb2FkOiB7IGlkOiBzdHJpbmcgfVxufVxuXG5leHBvcnQgaW50ZXJmYWNlIE5vdGlmaWNhdGlvbkNsZWFyQWN0aW9uIHtcbiAgdHlwZTogJ05PVElGWV9DTEVBUidcbn1cblxuZXhwb3J0IGNvbnN0IGNsZWFyID0gKCk6IE5vdGlmaWNhdGlvbkNsZWFyQWN0aW9uID0+ICh7XG4gIHR5cGU6IGNvbnN0YW50cy5OT1RJRllfQ0xFQVIsXG59KVxuXG5leHBvcnQgdHlwZSBOb3RpZmljYXRpb25BY3Rpb25UeXBlID1cbiAgTm90aWZpY2F0aW9uQWRkQWN0aW9uIHxcbiAgTm90aWZpY2F0aW9uRGlzbWlzc0FjdGlvbiB8XG4gIE5vdGlmaWNhdGlvbkNsZWFyQWN0aW9uXG4iXX0=