"use strict";
var __assign = (this && this.__assign) || function () {
    __assign = Object.assign || function(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) {
            s = arguments[i];
            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
                t[p] = s[p];
        }
        return t;
    };
    return __assign.apply(this, arguments);
};
var __importStar = (this && this.__importStar) || function (mod) {
    if (mod && mod.__esModule) return mod;
    var result = {};
    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];
    result["default"] = mod;
    return result;
};
exports.__esModule = true;
var constants = __importStar(require("../constants"));
function getStreamKey(userId, streamId) {
    return userId + '_' + streamId;
}
exports.getStreamKey = getStreamKey;
function unminimize(state, key) {
    delete state[key];
    return __assign({}, state);
}
function minimize(state, key) {
    var _a;
    return __assign(__assign({}, state), (_a = {}, _a[key] = 'minimized', _a));
}
function minimizeToggle(state, action) {
    var key = getStreamKey(action.payload.userId, action.payload.streamId);
    return state[key] ? unminimize(state, key) : minimize(state, key);
}
function windowStates(state, action) {
    if (state === void 0) { state = {}; }
    switch (action.type) {
        case constants.MINIMIZE_TOGGLE:
            return minimizeToggle(state, action);
        default:
            return state;
    }
}
exports["default"] = windowStates;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoid2luZG93U3RhdGVzLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vc3JjL2NsaWVudC9yZWR1Y2Vycy93aW5kb3dTdGF0ZXMudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSxzREFBeUM7QUFZekMsU0FBZ0IsWUFBWSxDQUFDLE1BQWMsRUFBRSxRQUFpQjtJQUM1RCxPQUFPLE1BQU0sR0FBRyxHQUFHLEdBQUcsUUFBUSxDQUFBO0FBQ2hDLENBQUM7QUFGRCxvQ0FFQztBQUVELFNBQVMsVUFBVSxDQUFDLEtBQW1CLEVBQUUsR0FBVztJQUNsRCxPQUFPLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQTtJQUNqQixvQkFBVyxLQUFLLEVBQUM7QUFDbkIsQ0FBQztBQUVELFNBQVMsUUFBUSxDQUFDLEtBQW1CLEVBQUUsR0FBVzs7SUFDaEQsNkJBQ0ssS0FBSyxnQkFDUCxHQUFHLElBQUcsV0FBVyxPQUNuQjtBQUNILENBQUM7QUFFRCxTQUFTLGNBQWMsQ0FDckIsS0FBbUIsRUFDbkIsTUFBNEI7SUFFNUIsSUFBTSxHQUFHLEdBQUcsWUFBWSxDQUFDLE1BQU0sQ0FBQyxPQUFPLENBQUMsTUFBTSxFQUFFLE1BQU0sQ0FBQyxPQUFPLENBQUMsUUFBUSxDQUFDLENBQUE7SUFDeEUsT0FBTyxLQUFLLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLFVBQVUsQ0FBQyxLQUFLLEVBQUUsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxLQUFLLEVBQUUsR0FBRyxDQUFDLENBQUE7QUFDbkUsQ0FBQztBQUdELFNBQXdCLFlBQVksQ0FDbEMsS0FBd0IsRUFDeEIsTUFBb0I7SUFEcEIsc0JBQUEsRUFBQSxVQUF3QjtJQUd4QixRQUFRLE1BQU0sQ0FBQyxJQUFJLEVBQUU7UUFDbkIsS0FBSyxTQUFTLENBQUMsZUFBZTtZQUM1QixPQUFPLGNBQWMsQ0FBQyxLQUFLLEVBQUUsTUFBTSxDQUFDLENBQUE7UUFDdEM7WUFDRSxPQUFPLEtBQUssQ0FBQTtLQUNmO0FBQ0gsQ0FBQztBQVZELGtDQVVDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMgY29uc3RhbnRzIGZyb20gJy4uL2NvbnN0YW50cydcbmltcG9ydCB7IE1pbmltaXplVG9nZ2xlQWN0aW9uLCBTdHJlYW1BY3Rpb24gfSBmcm9tICcuLi9hY3Rpb25zL1N0cmVhbUFjdGlvbnMnXG5cbmV4cG9ydCB0eXBlIEFjdGl2ZVN0YXRlID0gbnVsbCB8IHN0cmluZ1xuXG5leHBvcnQgdHlwZSBXaW5kb3dTdGF0ZSA9IHVuZGVmaW5lZCB8ICdtaW5pbWl6ZWQnXG5cbmV4cG9ydCBpbnRlcmZhY2UgV2luZG93U3RhdGVzIHtcbiAgLy8gRm9yIGV4YW1wbGU6IGAke3VzZXJJZH1fJHtpbmRleH1gXG4gIFtzdHJlYW1LZXk6IHN0cmluZ106IFdpbmRvd1N0YXRlXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRTdHJlYW1LZXkodXNlcklkOiBzdHJpbmcsIHN0cmVhbUlkPzogc3RyaW5nKSB7XG4gIHJldHVybiB1c2VySWQgKyAnXycgKyBzdHJlYW1JZFxufVxuXG5mdW5jdGlvbiB1bm1pbmltaXplKHN0YXRlOiBXaW5kb3dTdGF0ZXMsIGtleTogc3RyaW5nKTogV2luZG93U3RhdGVzIHtcbiAgZGVsZXRlIHN0YXRlW2tleV1cbiAgcmV0dXJuIHsuLi5zdGF0ZX1cbn1cblxuZnVuY3Rpb24gbWluaW1pemUoc3RhdGU6IFdpbmRvd1N0YXRlcywga2V5OiBzdHJpbmcpOiBXaW5kb3dTdGF0ZXMge1xuICByZXR1cm4ge1xuICAgIC4uLnN0YXRlLFxuICAgIFtrZXldOiAnbWluaW1pemVkJyxcbiAgfVxufVxuXG5mdW5jdGlvbiBtaW5pbWl6ZVRvZ2dsZShcbiAgc3RhdGU6IFdpbmRvd1N0YXRlcyxcbiAgYWN0aW9uOiBNaW5pbWl6ZVRvZ2dsZUFjdGlvbixcbik6IFdpbmRvd1N0YXRlcyB7XG4gIGNvbnN0IGtleSA9IGdldFN0cmVhbUtleShhY3Rpb24ucGF5bG9hZC51c2VySWQsIGFjdGlvbi5wYXlsb2FkLnN0cmVhbUlkKVxuICByZXR1cm4gc3RhdGVba2V5XSA/IHVubWluaW1pemUoc3RhdGUsIGtleSkgOiBtaW5pbWl6ZShzdGF0ZSwga2V5KVxufVxuXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHdpbmRvd1N0YXRlcyAoXG4gIHN0YXRlOiBXaW5kb3dTdGF0ZXMgPSB7fSxcbiAgYWN0aW9uOiBTdHJlYW1BY3Rpb24sXG4pOiBXaW5kb3dTdGF0ZXMge1xuICBzd2l0Y2ggKGFjdGlvbi50eXBlKSB7XG4gICAgY2FzZSBjb25zdGFudHMuTUlOSU1JWkVfVE9HR0xFOlxuICAgICAgcmV0dXJuIG1pbmltaXplVG9nZ2xlKHN0YXRlLCBhY3Rpb24pXG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiBzdGF0ZVxuICB9XG59XG4iXX0=