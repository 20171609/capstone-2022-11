"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
exports.__esModule = true;
var express_1 = __importDefault(require("express"));
var http_1 = __importDefault(require("http"));
var https_1 = __importDefault(require("https"));
var server_1 = require("./server");
describe('server', function () {
    var app;
    var config;
    beforeEach(function () {
        config = {};
        app = express_1["default"]();
    });
    describe('createServer', function () {
        it('creates https server when config.ssl', function () {
            config.ssl = {
                cert: 'config/cert.example.pem',
                key: 'config/cert.example.key'
            };
            var s = server_1.createServer(config, app);
            expect(s).toEqual(jasmine.any(https_1["default"].Server));
        });
        it('creates http server when no ssl config', function () {
            var s = server_1.createServer(config, app);
            expect(s).toEqual(jasmine.any(http_1["default"].Server));
        });
    });
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2VydmVyLnRlc3QuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9zcmMvc2VydmVyL3NlcnZlci50ZXN0LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7O0FBQUEsb0RBQTZCO0FBQzdCLDhDQUE0QztBQUM1QyxnREFBeUI7QUFDekIsbUNBQXVDO0FBRXZDLFFBQVEsQ0FBQyxRQUFRLEVBQUU7SUFFakIsSUFBSSxHQUFvQixDQUFBO0lBQ3hCLElBQUksTUFBVyxDQUFBO0lBQ2YsVUFBVSxDQUFDO1FBQ1QsTUFBTSxHQUFHLEVBQUUsQ0FBQTtRQUNYLEdBQUcsR0FBRyxvQkFBTyxFQUFFLENBQUE7SUFDakIsQ0FBQyxDQUFDLENBQUE7SUFFRixRQUFRLENBQUMsY0FBYyxFQUFFO1FBQ3ZCLEVBQUUsQ0FBQyxzQ0FBc0MsRUFBRTtZQUN6QyxNQUFNLENBQUMsR0FBRyxHQUFHO2dCQUNYLElBQUksRUFBRSx5QkFBeUI7Z0JBQy9CLEdBQUcsRUFBRSx5QkFBeUI7YUFDL0IsQ0FBQTtZQUNELElBQU0sQ0FBQyxHQUFHLHFCQUFZLENBQUMsTUFBTSxFQUFFLEdBQUcsQ0FBQyxDQUFBO1lBQ25DLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxPQUFPLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxrQkFBSyxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUE7UUFDOUMsQ0FBQyxDQUFDLENBQUE7UUFDRixFQUFFLENBQUMsd0NBQXdDLEVBQUU7WUFDM0MsSUFBTSxDQUFDLEdBQUcscUJBQVksQ0FBQyxNQUFNLEVBQUUsR0FBRyxDQUFDLENBQUE7WUFDbkMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxPQUFPLENBQUMsR0FBRyxDQUFDLGlCQUFJLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQTtRQUM3QyxDQUFDLENBQUMsQ0FBQTtJQUNKLENBQUMsQ0FBQyxDQUFBO0FBRUosQ0FBQyxDQUFDLENBQUEiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZXhwcmVzcyBmcm9tICdleHByZXNzJ1xuaW1wb3J0IGh0dHAsIHsgUmVxdWVzdExpc3RlbmVyIH0gZnJvbSAnaHR0cCdcbmltcG9ydCBodHRwcyBmcm9tICdodHRwcydcbmltcG9ydCB7IGNyZWF0ZVNlcnZlciB9IGZyb20gJy4vc2VydmVyJ1xuXG5kZXNjcmliZSgnc2VydmVyJywgKCkgPT4ge1xuXG4gIGxldCBhcHA6IFJlcXVlc3RMaXN0ZW5lclxuICBsZXQgY29uZmlnOiBhbnlcbiAgYmVmb3JlRWFjaCgoKSA9PiB7XG4gICAgY29uZmlnID0ge31cbiAgICBhcHAgPSBleHByZXNzKClcbiAgfSlcblxuICBkZXNjcmliZSgnY3JlYXRlU2VydmVyJywgKCkgPT4ge1xuICAgIGl0KCdjcmVhdGVzIGh0dHBzIHNlcnZlciB3aGVuIGNvbmZpZy5zc2wnLCAoKSA9PiB7XG4gICAgICBjb25maWcuc3NsID0ge1xuICAgICAgICBjZXJ0OiAnY29uZmlnL2NlcnQuZXhhbXBsZS5wZW0nLFxuICAgICAgICBrZXk6ICdjb25maWcvY2VydC5leGFtcGxlLmtleScsXG4gICAgICB9XG4gICAgICBjb25zdCBzID0gY3JlYXRlU2VydmVyKGNvbmZpZywgYXBwKVxuICAgICAgZXhwZWN0KHMpLnRvRXF1YWwoamFzbWluZS5hbnkoaHR0cHMuU2VydmVyKSlcbiAgICB9KVxuICAgIGl0KCdjcmVhdGVzIGh0dHAgc2VydmVyIHdoZW4gbm8gc3NsIGNvbmZpZycsICgpID0+IHtcbiAgICAgIGNvbnN0IHMgPSBjcmVhdGVTZXJ2ZXIoY29uZmlnLCBhcHApXG4gICAgICBleHBlY3QocykudG9FcXVhbChqYXNtaW5lLmFueShodHRwLlNlcnZlcikpXG4gICAgfSlcbiAgfSlcblxufSlcbiJdfQ==